{"version":3,"file":"bundle.js","sources":["useWorldAtlas.js","useData.js","Marks.js","Legend.js","index.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { json } from 'd3';\nimport { feature } from 'topojson';\n\nconst jsonUrl = 'https://cdn.freecodecamp.org/testable-projects-fcc/data/choropleth_map/counties.json';\n\nexport const useWorldAtlas = () => {\n  const [data, setData] = useState(null);\n\t\n  useEffect(() => {\n    json(jsonUrl).then(topology=>{\n      const {counties,nation,states} = topology.objects\n    setData(feature(topology,counties).features)\n    });\n    ;\n  }, []);\n\n  return data;\n};\n","import { useState, useEffect } from 'react';\nimport { json } from 'd3';\n\nconst jsonUrl =\n  'https://cdn.freecodecamp.org/testable-projects-fcc/data/choropleth_map/for_user_education.json';\n\nconst row = (d) => {\n  d.aids = +d[\n    'Prevalence - HIV/AIDS - Sex: Both - Age: 15-49 years (Percent) (%)'\n  ];\n  return d;\n};\n\nexport const useData = () => {\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    json(jsonUrl).then((data) => {\n      \n      setData(\n        data\n      );\n    });\n  }, []);\n\n  return data;\n};\n","import { geoPath } from \"d3\";\n\nconst path = geoPath();\n\nconst missingDataColor = \"gray\";\nexport const Marks = ({\n  worldAtlas,\n  rowByID,\n\n  color,\n  onMouseEnter,\n  onMouseOut,\n}) => (\n  <g>\n    {worldAtlas.map((feature) => {\n      const d = rowByID.get(feature.id);\n      // console.log((path(feature)));\n      return (\n        <path\n          className=\"county\"\n          d={path(feature)}\n          fill={d ? color(d.bachelorsOrHigher) : missingDataColor}\n          data-fips={d.fips}\n          data-education={d.bachelorsOrHigher}\n          onMouseEnter={(e) => onMouseEnter(d, e)}\n          onMouseOut={() => onMouseOut(null)}\n        />\n      );\n    })}\n  </g>\n);\n","export const Legend = ({ x, color }) => {\n  return (\n    <g id=\"legend\">\n      {color.range().map((r, i) => {\n        let d = color.invertExtent(r);\n\n        d[0] == null ? (d[0] = x.domain()[0]) : null;\n        d[1] == null ? (d[1] = x.domain()[1]) : null;\n        console.log(d[1]);\n\n        return (\n          <>\n            <rect x={x(d[0])} height={8} width={x(d[1]) - x(d[0])} fill={r} />\n            <line x1={x(d[1])} x2={x(d[1])} y1={0} y2={20} />\n            <text x={x(d[1])} y={40} textAnchor=\"middle\">\n              {d[1] + \"%\"}\n            </text>\n          </>\n        );\n      })}\n    </g>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { useWorldAtlas } from \"./useWorldAtlas\";\nimport { useData } from \"./useData\";\nimport { Marks } from \"./Marks\";\nimport { Legend } from \"./Legend\";\nimport { scaleLinear, scaleThreshold } from \"d3\";\n\nconst width = 940;\nconst height = 600;\n\nconst App = () => {\n  const worldAtlas = useWorldAtlas();\n\n  const data = useData();\n\n  if (!worldAtlas || !data) {\n    return <pre>Loading...</pre>;\n  }\n\n  const x = scaleLinear().domain([1, 60]).rangeRound([550, 850]);\n\n  const color = scaleThreshold().domain([3, 12, 21, 30, 39, 48, 57, 66]).range(d3.schemeBlues[8]);\n\n  const rowByID = new Map();\n  data.forEach((d) => {\n    const id = d.fips;\n    rowByID.set(id, d);\n  });\n  const onMouseEnter = (d, e) => {\n    let b = d.bachelorsOrHigher;\n    let a = d.area_name;\n    let s = d.state;\n\n    e.pageX > window.innerWidth / 2 ? (e.pageX = e.pageX - 120) : e.pageX;\n    a.length > 15 && e.pageX > window.innerWidth / 2 ? (e.pageY = e.pageY - 40) : e.pageY;\n    tooldiv\n      .style(\"visibility\", \"visible\")\n      .html(() => `${a}, ${s}: ${b}%`)\n      .style(\"top\", e.pageY - 40 + \"px\")\n      .style(\"left\", e.pageX + \"px\")\n      .attr(\"data-education\", b);\n  };\n  const onMouseOut = () => {\n    tooldiv.style(\"visibility\", \"hidden\");\n  };\n  return (\n    <>\n      <div id=\"title\">\n        <h1>United States Educational Attainment</h1>\n        <p id=\"description\">Percentage of adults age 25 and older with a bachelor's degree or higher (2010-2014)</p>\n      </div>\n\n      <svg width={width} height={height}>\n        <g className=\"map\">\n          <Legend x={x} color={color} />\n          <Marks\n            worldAtlas={worldAtlas}\n            rowByID={rowByID}\n            x={x}\n            color={color}\n            onMouseEnter={(e, d) => onMouseEnter(e, d)}\n            onMouseOut={() => onMouseOut()}\n          />\n        </g>\n        <g className=\"copyright\" transform={`translate(${width - 35},${height - 25}) `}>\n          <text textAnchor=\"middle\" dx={-15} dy={18}>\n            By\n          </text>\n          <a xlink:href=\"https://thembdev.com\">\n            {\" \"}\n            <image xlink:href=\"https://mbdev-utils.s3.eu-west-3.amazonaws.com/mbdev_logo_sm.svg\" width={25} />\n          </a>\n        </g>\n      </svg>\n    </>\n  );\n};\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"names":["const","jsonUrl","useState","useEffect","json","feature","geoPath","let","React","scaleLinear","scaleThreshold","ReactDOM"],"mappings":"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"}